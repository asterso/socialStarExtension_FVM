<template>
  <div class="twitter-tab-bottom">
    <div class="chain-li">
      <div class="chain-icon margin-top">
        <img
          referrerpolicy="no-referrer"
          src="https://lanhu.oss-cn-beijing.aliyuncs.com/SketchPngb3fe536f739ac792cb9bbaa532116cd5c8920006d65079c673f70f0b2a302fe0"
        />
      </div>
      <div class="chain-title">
        <div class="chain-title-text">
          <div>Algorand</div>
          <!-- <div class="chain-connect-btn" @click="handleTipModal" v-show="showConnect">
            <img
              referrerpolicy="no-referrer"
              src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAVCAYAAAAeql2xAAAAAXNSR0IArs4c6QAABPJJREFUWEflmH1sE3UYx7931976sq4bo3N0fRnbQMx8iTgkEF9GYowBA4lkIwIRQSJGiAZfQtRIHYkmBBNAEtHEF0QQspGQIEgkIlsgoA4MEMpGKW9ru42Vwtrr9eV6L+Z+5eoYg8xFTcqef+7ul/v9fvd5nuf73HNHYYApikINvL7XzimKUjQmAqoBNzU1UYAHXm8LFQ7bKI6z5LUjLBZOsdnCSm1tgwI0wePxEHDVATlwFbq19Wm6ry9MJxI2WhDitCSxVKnM5iV8hBYUhhEUli2UTaawXFZmk+vr22QVnoCr0dagg8Ekw3GMzizQOkEyM7KSpk1mJi/BE7yk0FSBzDK8xLOyaLFIosNhlHLwWXBQzc0tukjEqj92ZPpMd1XheopCRTYt8lPpyk01KwpCVy7GV0574uhPpaXRTGNjg+jxIBvxxsYWur3dpqejYsH5a894VWgVWJucn+jZoKkMKvyEsb/UylZdesqUcKa5uUEm4DNmtDI+n4Wl44Khq39aRIt0voHzvAizWZeL08DguYqPlcqFbGriRE44dKheIuB1dSd0wWCEZRKsMRSrDw8nwpKkoDuYhK2sAAYjM5wp//k9az7owOqPHxhyn4qiVptkEpIOR6lw/PhjYg482cUVCAxj9HU/2Xc3badSEg7su4oObxwTJhXC18Fh4RIXHE4j2VAQZHy56SLSKRkJXsKKt6shSwq++uIyWD0NtoDGshXj0fbrNZw/F0csmsGN6wLe+2gS2n+7cduYtViPbd924Wpvmtz7ymuVcFWasGtnCJf8PDhORMOLFTjR3o+2g2HUPV6C5W9V5+C1rJ1oP1zGSlLS6LKk/xG4KCrICDLWrz2P554vx+QpxWTxaDSDXTtC5IFU2/9jL2QZmDWnHJ1eDqFgEqdPRjFvoRP2CgN+3nsVoqRAFGXwcQnzFzmxf08vKBpIp28fc7lNONwWIc6KxUR8ts6PRUtd+GFrAKs+vJ84d+e2AJYsq8RQER8xuAq8Y2sAqn5qHyqCwcAgcCWBRyYXo3qCGSdP9KPrcgKz59oJ+OaNFzFzdjnc4005r69e5cWatbXkOhRIYndLN5xuI5wuE3HgmVMxdJ6NQc/St42pMlIzYZzdQOZfjwh4asZY4vBZc8bdktb/Kvje3T0otxtQN7UEfl8cp0/G4K40guclnDvLQa+nsWCxkxxVa9kRRHVNIQG6dIGH38fj+O83sHxlFYqsehxpu4aeUIqkvNNtwuS6Ypw5HUOn9yb4oDE1rX2dcSxc7EImI+PwoQjsDgP+OHodLy11E2lt3xLA4lfdaHq/A55PbtX4iCP+9ebLaJhfQR5atVN/RrFvTw/efLeGwLJsFlgzVYcb1/nhcJmIBl9fWYVUUsL333RBTVs19d94pwYHD/QNC/yFeRXYsNaPkjF6BANJzJlrx8OPWrHpUz+MJh16upN4duZ9mDp9DD7fcAHWYhYLXnYOX+NaVQ9Gs1Vda1zUtN7+XQC1Dxahs4NDVbWZpLLRdPdKHu3PwFKkA01nOyBFURDnJDI2EotzIgxGGjrd347m4yKRx2DnD1xfi7jDOkRVv9N7XFtALSC9PSm4Ko23bDwSgP97jgY+5Ht8cOdG09l29V4xWb5D5zZUr67C51vnNjhQqlxV6Dv26qPy6+xm4cl9mo6a73ENXD2Ouj8wmjZG0z+3vwAbDk4lkOL+JwAAAABJRU5ErkJggg=="
            />
          </div> -->
          <!-- <ConnectBtn class="chain-connect-btn" /> -->
        </div>
        <div class="chain-address">c7ryoge...ls34</div>
      </div>
      <LeftIcon class="left-icon" />
    </div>
    <div class="divider-line"></div>
    <!-- <div class="chain-li">
      <div class="chain-icon">
        <img
          referrerpolicy="no-referrer"
          src="https://lanhu.oss-cn-beijing.aliyuncs.com/SketchPng4b5fd37cf9afe7732c9a2debdc82c75ef68e7af24f7477133e281b2e9bd0ad2d"
        />
      </div>
      <div class="chain-title">
        <div class="chain-title-text">
          <div>Artbitrum</div>
          <div class="chain-connect-btn" @click="handleTipModal" v-show="showConnect">
            <img
              referrerpolicy="no-referrer"
              src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAVCAYAAAAeql2xAAAAAXNSR0IArs4c6QAABPJJREFUWEflmH1sE3UYx7931976sq4bo3N0fRnbQMx8iTgkEF9GYowBA4lkIwIRQSJGiAZfQtRIHYkmBBNAEtHEF0QQspGQIEgkIlsgoA4MEMpGKW9ru42Vwtrr9eV6L+Z+5eoYg8xFTcqef+7ul/v9fvd5nuf73HNHYYApikINvL7XzimKUjQmAqoBNzU1UYAHXm8LFQ7bKI6z5LUjLBZOsdnCSm1tgwI0wePxEHDVATlwFbq19Wm6ry9MJxI2WhDitCSxVKnM5iV8hBYUhhEUli2UTaawXFZmk+vr22QVnoCr0dagg8Ekw3GMzizQOkEyM7KSpk1mJi/BE7yk0FSBzDK8xLOyaLFIosNhlHLwWXBQzc0tukjEqj92ZPpMd1XheopCRTYt8lPpyk01KwpCVy7GV0574uhPpaXRTGNjg+jxIBvxxsYWur3dpqejYsH5a894VWgVWJucn+jZoKkMKvyEsb/UylZdesqUcKa5uUEm4DNmtDI+n4Wl44Khq39aRIt0voHzvAizWZeL08DguYqPlcqFbGriRE44dKheIuB1dSd0wWCEZRKsMRSrDw8nwpKkoDuYhK2sAAYjM5wp//k9az7owOqPHxhyn4qiVptkEpIOR6lw/PhjYg482cUVCAxj9HU/2Xc3badSEg7su4oObxwTJhXC18Fh4RIXHE4j2VAQZHy56SLSKRkJXsKKt6shSwq++uIyWD0NtoDGshXj0fbrNZw/F0csmsGN6wLe+2gS2n+7cduYtViPbd924Wpvmtz7ymuVcFWasGtnCJf8PDhORMOLFTjR3o+2g2HUPV6C5W9V5+C1rJ1oP1zGSlLS6LKk/xG4KCrICDLWrz2P554vx+QpxWTxaDSDXTtC5IFU2/9jL2QZmDWnHJ1eDqFgEqdPRjFvoRP2CgN+3nsVoqRAFGXwcQnzFzmxf08vKBpIp28fc7lNONwWIc6KxUR8ts6PRUtd+GFrAKs+vJ84d+e2AJYsq8RQER8xuAq8Y2sAqn5qHyqCwcAgcCWBRyYXo3qCGSdP9KPrcgKz59oJ+OaNFzFzdjnc4005r69e5cWatbXkOhRIYndLN5xuI5wuE3HgmVMxdJ6NQc/St42pMlIzYZzdQOZfjwh4asZY4vBZc8bdktb/Kvje3T0otxtQN7UEfl8cp0/G4K40guclnDvLQa+nsWCxkxxVa9kRRHVNIQG6dIGH38fj+O83sHxlFYqsehxpu4aeUIqkvNNtwuS6Ypw5HUOn9yb4oDE1rX2dcSxc7EImI+PwoQjsDgP+OHodLy11E2lt3xLA4lfdaHq/A55PbtX4iCP+9ebLaJhfQR5atVN/RrFvTw/efLeGwLJsFlgzVYcb1/nhcJmIBl9fWYVUUsL333RBTVs19d94pwYHD/QNC/yFeRXYsNaPkjF6BANJzJlrx8OPWrHpUz+MJh16upN4duZ9mDp9DD7fcAHWYhYLXnYOX+NaVQ9Gs1Vda1zUtN7+XQC1Dxahs4NDVbWZpLLRdPdKHu3PwFKkA01nOyBFURDnJDI2EotzIgxGGjrd347m4yKRx2DnD1xfi7jDOkRVv9N7XFtALSC9PSm4Ko23bDwSgP97jgY+5Ht8cOdG09l29V4xWb5D5zZUr67C51vnNjhQqlxV6Dv26qPy6+xm4cl9mo6a73ENXD2Ouj8wmjZG0z+3vwAbDk4lkOL+JwAAAABJRU5ErkJggg=="
            />
          </div>
          <ConnectBtn class="chain-connect-btn" />
        </div>
        <div class="chain-address">4rf5qw1…cenk</div>
      </div>
      <LeftIcon class="left-icon" />
    </div>
    <div class="divider-line"></div> -->
    <div class="chain-li">
      <div class="chain-icon">
        <img
          referrerpolicy="no-referrer"
          src="https://lanhu.oss-cn-beijing.aliyuncs.com/SketchPng9c1236fde0e2a926388ebd80e0c565c76f1ce10efdd549546fb17a57e97d3fb0"
        />
      </div>
      <div class="chain-title">
        <div class="chain-title-text">
          <div>Bitcoin</div>
          <!-- <div class="chain-connect-btn" @click="handleTipModal" v-show="showConnect">
            <img
              referrerpolicy="no-referrer"
              src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAVCAYAAAAeql2xAAAAAXNSR0IArs4c6QAABPJJREFUWEflmH1sE3UYx7931976sq4bo3N0fRnbQMx8iTgkEF9GYowBA4lkIwIRQSJGiAZfQtRIHYkmBBNAEtHEF0QQspGQIEgkIlsgoA4MEMpGKW9ru42Vwtrr9eV6L+Z+5eoYg8xFTcqef+7ul/v9fvd5nuf73HNHYYApikINvL7XzimKUjQmAqoBNzU1UYAHXm8LFQ7bKI6z5LUjLBZOsdnCSm1tgwI0wePxEHDVATlwFbq19Wm6ry9MJxI2WhDitCSxVKnM5iV8hBYUhhEUli2UTaawXFZmk+vr22QVnoCr0dagg8Ekw3GMzizQOkEyM7KSpk1mJi/BE7yk0FSBzDK8xLOyaLFIosNhlHLwWXBQzc0tukjEqj92ZPpMd1XheopCRTYt8lPpyk01KwpCVy7GV0574uhPpaXRTGNjg+jxIBvxxsYWur3dpqejYsH5a894VWgVWJucn+jZoKkMKvyEsb/UylZdesqUcKa5uUEm4DNmtDI+n4Wl44Khq39aRIt0voHzvAizWZeL08DguYqPlcqFbGriRE44dKheIuB1dSd0wWCEZRKsMRSrDw8nwpKkoDuYhK2sAAYjM5wp//k9az7owOqPHxhyn4qiVptkEpIOR6lw/PhjYg482cUVCAxj9HU/2Xc3badSEg7su4oObxwTJhXC18Fh4RIXHE4j2VAQZHy56SLSKRkJXsKKt6shSwq++uIyWD0NtoDGshXj0fbrNZw/F0csmsGN6wLe+2gS2n+7cduYtViPbd924Wpvmtz7ymuVcFWasGtnCJf8PDhORMOLFTjR3o+2g2HUPV6C5W9V5+C1rJ1oP1zGSlLS6LKk/xG4KCrICDLWrz2P554vx+QpxWTxaDSDXTtC5IFU2/9jL2QZmDWnHJ1eDqFgEqdPRjFvoRP2CgN+3nsVoqRAFGXwcQnzFzmxf08vKBpIp28fc7lNONwWIc6KxUR8ts6PRUtd+GFrAKs+vJ84d+e2AJYsq8RQER8xuAq8Y2sAqn5qHyqCwcAgcCWBRyYXo3qCGSdP9KPrcgKz59oJ+OaNFzFzdjnc4005r69e5cWatbXkOhRIYndLN5xuI5wuE3HgmVMxdJ6NQc/St42pMlIzYZzdQOZfjwh4asZY4vBZc8bdktb/Kvje3T0otxtQN7UEfl8cp0/G4K40guclnDvLQa+nsWCxkxxVa9kRRHVNIQG6dIGH38fj+O83sHxlFYqsehxpu4aeUIqkvNNtwuS6Ypw5HUOn9yb4oDE1rX2dcSxc7EImI+PwoQjsDgP+OHodLy11E2lt3xLA4lfdaHq/A55PbtX4iCP+9ebLaJhfQR5atVN/RrFvTw/efLeGwLJsFlgzVYcb1/nhcJmIBl9fWYVUUsL333RBTVs19d94pwYHD/QNC/yFeRXYsNaPkjF6BANJzJlrx8OPWrHpUz+MJh16upN4duZ9mDp9DD7fcAHWYhYLXnYOX+NaVQ9Gs1Vda1zUtN7+XQC1Dxahs4NDVbWZpLLRdPdKHu3PwFKkA01nOyBFURDnJDI2EotzIgxGGjrd347m4yKRx2DnD1xfi7jDOkRVv9N7XFtALSC9PSm4Ko23bDwSgP97jgY+5Ht8cOdG09l29V4xWb5D5zZUr67C51vnNjhQqlxV6Dv26qPy6+xm4cl9mo6a73ENXD2Ouj8wmjZG0z+3vwAbDk4lkOL+JwAAAABJRU5ErkJggg=="
            />
          </div> -->

          <!-- <ConnectBtn class="chain-connect-btn" /> -->
        </div>
        <div class="chain-address">964dvke…do21</div>
      </div>
      <LeftIcon class="left-icon" />
    </div>
    <div class="divider-line"></div>
    <div class="chain-li">
      <div class="chain-icon margin-top">
        <img
          referrerpolicy="no-referrer"
          src="https://lanhu.oss-cn-beijing.aliyuncs.com/SketchPng44f336290edd36d667cdd3449a2c4938663851e7d9db7c93bf2afb1b75e2498f"
        />
      </div>
      <div class="chain-title">
        <div class="chain-title-text">
          <div>Ethereum</div>
          <div class="chain-connect-btn" @click="handleTipModal" v-show="showConnect">
            <img
              referrerpolicy="no-referrer"
              src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAVCAYAAAAeql2xAAAAAXNSR0IArs4c6QAABPJJREFUWEflmH1sE3UYx7931976sq4bo3N0fRnbQMx8iTgkEF9GYowBA4lkIwIRQSJGiAZfQtRIHYkmBBNAEtHEF0QQspGQIEgkIlsgoA4MEMpGKW9ru42Vwtrr9eV6L+Z+5eoYg8xFTcqef+7ul/v9fvd5nuf73HNHYYApikINvL7XzimKUjQmAqoBNzU1UYAHXm8LFQ7bKI6z5LUjLBZOsdnCSm1tgwI0wePxEHDVATlwFbq19Wm6ry9MJxI2WhDitCSxVKnM5iV8hBYUhhEUli2UTaawXFZmk+vr22QVnoCr0dagg8Ekw3GMzizQOkEyM7KSpk1mJi/BE7yk0FSBzDK8xLOyaLFIosNhlHLwWXBQzc0tukjEqj92ZPpMd1XheopCRTYt8lPpyk01KwpCVy7GV0574uhPpaXRTGNjg+jxIBvxxsYWur3dpqejYsH5a894VWgVWJucn+jZoKkMKvyEsb/UylZdesqUcKa5uUEm4DNmtDI+n4Wl44Khq39aRIt0voHzvAizWZeL08DguYqPlcqFbGriRE44dKheIuB1dSd0wWCEZRKsMRSrDw8nwpKkoDuYhK2sAAYjM5wp//k9az7owOqPHxhyn4qiVptkEpIOR6lw/PhjYg482cUVCAxj9HU/2Xc3badSEg7su4oObxwTJhXC18Fh4RIXHE4j2VAQZHy56SLSKRkJXsKKt6shSwq++uIyWD0NtoDGshXj0fbrNZw/F0csmsGN6wLe+2gS2n+7cduYtViPbd924Wpvmtz7ymuVcFWasGtnCJf8PDhORMOLFTjR3o+2g2HUPV6C5W9V5+C1rJ1oP1zGSlLS6LKk/xG4KCrICDLWrz2P554vx+QpxWTxaDSDXTtC5IFU2/9jL2QZmDWnHJ1eDqFgEqdPRjFvoRP2CgN+3nsVoqRAFGXwcQnzFzmxf08vKBpIp28fc7lNONwWIc6KxUR8ts6PRUtd+GFrAKs+vJ84d+e2AJYsq8RQER8xuAq8Y2sAqn5qHyqCwcAgcCWBRyYXo3qCGSdP9KPrcgKz59oJ+OaNFzFzdjnc4005r69e5cWatbXkOhRIYndLN5xuI5wuE3HgmVMxdJ6NQc/St42pMlIzYZzdQOZfjwh4asZY4vBZc8bdktb/Kvje3T0otxtQN7UEfl8cp0/G4K40guclnDvLQa+nsWCxkxxVa9kRRHVNIQG6dIGH38fj+O83sHxlFYqsehxpu4aeUIqkvNNtwuS6Ypw5HUOn9yb4oDE1rX2dcSxc7EImI+PwoQjsDgP+OHodLy11E2lt3xLA4lfdaHq/A55PbtX4iCP+9ebLaJhfQR5atVN/RrFvTw/efLeGwLJsFlgzVYcb1/nhcJmIBl9fWYVUUsL333RBTVs19d94pwYHD/QNC/yFeRXYsNaPkjF6BANJzJlrx8OPWrHpUz+MJh16upN4duZ9mDp9DD7fcAHWYhYLXnYOX+NaVQ9Gs1Vda1zUtN7+XQC1Dxahs4NDVbWZpLLRdPdKHu3PwFKkA01nOyBFURDnJDI2EotzIgxGGjrd347m4yKRx2DnD1xfi7jDOkRVv9N7XFtALSC9PSm4Ko23bDwSgP97jgY+5Ht8cOdG09l29V4xWb5D5zZUr67C51vnNjhQqlxV6Dv26qPy6+xm4cl9mo6a73ENXD2Ouj8wmjZG0z+3vwAbDk4lkOL+JwAAAABJRU5ErkJggg=="
            />
          </div>

          <!-- <ConnectBtn class="chain-connect-btn" /> -->
        </div>
        <div class="chain-address" v-show="showAddress">0x432...654</div>
      </div>
      <LeftIcon class="left-icon" />
    </div>
    <div class="divider-line"></div>
    <!-- <div class="chain-li">
      <div class="chain-icon margin-top">
        <img
          referrerpolicy="no-referrer"
          src="https://lanhu.oss-cn-beijing.aliyuncs.com/SketchPng2fa5aeeba946e21029e50294a566257a658c4f81800ad5269a1a25d179d180b4"
        />
      </div>
      <div class="chain-title">
        <div class="chain-title-text">
          <div>Polygon</div>
          <div class="chain-connect-btn" @click="handleTipModal" v-show="showConnect">
            <img
              referrerpolicy="no-referrer"
              src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAVCAYAAAAeql2xAAAAAXNSR0IArs4c6QAABPJJREFUWEflmH1sE3UYx7931976sq4bo3N0fRnbQMx8iTgkEF9GYowBA4lkIwIRQSJGiAZfQtRIHYkmBBNAEtHEF0QQspGQIEgkIlsgoA4MEMpGKW9ru42Vwtrr9eV6L+Z+5eoYg8xFTcqef+7ul/v9fvd5nuf73HNHYYApikINvL7XzimKUjQmAqoBNzU1UYAHXm8LFQ7bKI6z5LUjLBZOsdnCSm1tgwI0wePxEHDVATlwFbq19Wm6ry9MJxI2WhDitCSxVKnM5iV8hBYUhhEUli2UTaawXFZmk+vr22QVnoCr0dagg8Ekw3GMzizQOkEyM7KSpk1mJi/BE7yk0FSBzDK8xLOyaLFIosNhlHLwWXBQzc0tukjEqj92ZPpMd1XheopCRTYt8lPpyk01KwpCVy7GV0574uhPpaXRTGNjg+jxIBvxxsYWur3dpqejYsH5a894VWgVWJucn+jZoKkMKvyEsb/UylZdesqUcKa5uUEm4DNmtDI+n4Wl44Khq39aRIt0voHzvAizWZeL08DguYqPlcqFbGriRE44dKheIuB1dSd0wWCEZRKsMRSrDw8nwpKkoDuYhK2sAAYjM5wp//k9az7owOqPHxhyn4qiVptkEpIOR6lw/PhjYg482cUVCAxj9HU/2Xc3badSEg7su4oObxwTJhXC18Fh4RIXHE4j2VAQZHy56SLSKRkJXsKKt6shSwq++uIyWD0NtoDGshXj0fbrNZw/F0csmsGN6wLe+2gS2n+7cduYtViPbd924Wpvmtz7ymuVcFWasGtnCJf8PDhORMOLFTjR3o+2g2HUPV6C5W9V5+C1rJ1oP1zGSlLS6LKk/xG4KCrICDLWrz2P554vx+QpxWTxaDSDXTtC5IFU2/9jL2QZmDWnHJ1eDqFgEqdPRjFvoRP2CgN+3nsVoqRAFGXwcQnzFzmxf08vKBpIp28fc7lNONwWIc6KxUR8ts6PRUtd+GFrAKs+vJ84d+e2AJYsq8RQER8xuAq8Y2sAqn5qHyqCwcAgcCWBRyYXo3qCGSdP9KPrcgKz59oJ+OaNFzFzdjnc4005r69e5cWatbXkOhRIYndLN5xuI5wuE3HgmVMxdJ6NQc/St42pMlIzYZzdQOZfjwh4asZY4vBZc8bdktb/Kvje3T0otxtQN7UEfl8cp0/G4K40guclnDvLQa+nsWCxkxxVa9kRRHVNIQG6dIGH38fj+O83sHxlFYqsehxpu4aeUIqkvNNtwuS6Ypw5HUOn9yb4oDE1rX2dcSxc7EImI+PwoQjsDgP+OHodLy11E2lt3xLA4lfdaHq/A55PbtX4iCP+9ebLaJhfQR5atVN/RrFvTw/efLeGwLJsFlgzVYcb1/nhcJmIBl9fWYVUUsL333RBTVs19d94pwYHD/QNC/yFeRXYsNaPkjF6BANJzJlrx8OPWrHpUz+MJh16upN4duZ9mDp9DD7fcAHWYhYLXnYOX+NaVQ9Gs1Vda1zUtN7+XQC1Dxahs4NDVbWZpLLRdPdKHu3PwFKkA01nOyBFURDnJDI2EotzIgxGGjrd347m4yKRx2DnD1xfi7jDOkRVv9N7XFtALSC9PSm4Ko23bDwSgP97jgY+5Ht8cOdG09l29V4xWb5D5zZUr67C51vnNjhQqlxV6Dv26qPy6+xm4cl9mo6a73ENXD2Ouj8wmjZG0z+3vwAbDk4lkOL+JwAAAABJRU5ErkJggg=="
            />
          </div>

          <ConnectBtn class="chain-connect-btn" />
        </div>
        <div class="chain-address">28ebdf1…dosl</div>
      </div>
      <LeftIcon class="left-icon" />
    </div>
    <div class="divider-line"></div> -->
    <TipModal
      v-show="showTipModal"
      @close="handleTipModalClose"
      @ok="handleTipModalClose"
    />
  </div>
</template>

<script>
// import ConnectBtn from "../../assets/icons/btn_connect.svg";
import Web3 from "web3";
import createMetaMaskProvider, {
  MetaMaskInpageProvider,
} from "metamask-extension-provider";
import LeftIcon from "../../assets/icons/icon_left.svg";
import TipModal from "./TipModal.vue";
export default {
  name: "TwitterTabBottom",
  data() {
    return {
      showTipModal: false,
      signature:'',
      testAccount:'0x43258af01805Ba9179a2833302d6e25eA75E2654',
      via:'michael_web3',
      showAddress:false
    };
  },
  props: {
    showConnect: {
      type: Boolean,
      default: true,
    },
  },
  components: {
    LeftIcon,
    TipModal,
    // ConnectBtn,
  },
  methods: {
    handleTipModal() {
      this.showTipModal = true;
      setTimeout(()=>{
        this.showAddress = true;
      },3000)
    },
    handleTipModalClose() {
      this.signMessage()
      this.showTipModal = false;
    },
    postTweet() {
      let shareURL = "http://twitter.com/share?";
      const msg1 = `Link ${this.via} to ${this.testAccount||""}\n \n The signature is ${this.signature||""} \n`;
      let params = {
        // url: "http://twitter.com/alvin62163605",
        text: msg1,
        via: this.via,
        // hashtags: ,
      };
      for (let prop in params)
        shareURL += "&" + prop + "=" + encodeURIComponent(params[prop]);

      this.url = shareURL;

      chrome.tabs.create({
        url: shareURL,
      });
    },
    signMessage() {
      const provider = createMetaMaskProvider();
      const web3 = new Web3(provider);
      const msg = `associate ${this.via} to ${this.testAccount} via ${this.via}`;
      // alert(msg)
      web3.eth.personal.sign(web3.utils.keccak256(msg), this.testAccount,(err, res) => {
        // alert(res)
        
        this.signature = res
        this.postTweet();
        console.log("signature：",res)
      })
    },
  },
};
</script>

<style lang="scss" scoped>
.twitter-tab-bottom {
  .chain-li {
    display: flex;
    margin-left: 10px;
    margin-right: 10px;
    /* border: 1px solid red; */
    height: 43px;
    .chain-icon {
      width: 28px;
      height: 28px;
      margin-top: 6px;
      padding-top: 2px;
      text-align: center;
      /* border: 1px solid green; */
    }
    .chain-title {
      width: 200px;
      margin-left: 12px;
      display: flex;
      flex-direction: column;
      /* border: 1px solid black; */
      margin-top: 5px;
      .chain-title-text {
        font-size: 11px;
        font-family: PingFangSC-Regular, PingFang SC;
        font-weight: 400;
        color: #333333;
        display: flex;
        .chain-connect-btn {
          cursor: pointer;
          margin-top: -2px;
          margin-left: 2px;
          width: 62px;
          height: 21px;
        }
      }
      .chain-address {
        font-size: 9px;
        font-family: PingFangSC-Regular, PingFang SC;
        font-weight: 400;
        color: #999999;
      }
    }
    .margin-top {
      padding-top: 5px;
    }
    .left-icon {
      width: 8px;
      height: 8px;
      margin: 17px 0 0 16px;
    }
  }
  .divider-line {
    width: 100%;
    height: 1px;
    background: rgba(220, 220, 220, 0.6);
  }
}
</style>
